<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
	<head>
	<meta charset="ISO-8859-1" />
	<title>Movie Recommendation List</title>
	<link type="text/css" rel="stylesheet" th:href="@{css/bootstrap.min.css}"/>
	</head>
	<body>
	<h1>Movie Recommendations</h1>
	<div class="col-md-4">
		<h3 th:inline="text"> Welcome [[${#httpServletRequest.remoteUser}]]</h3>
	</div>
<!--	<div class="col-md-4" style="padding:20px 0">
		<form method="post">
			<input type="submit" value="Sign Out" class="btn btn-danger"/>
			 <input type="submit" value="Sign In" class="btn btn-danger"/> 
		</form>
	</div>-->
	<table class="table table-striped">
		<tr>
			<th>Year</th>
			<th id="title">Title</th>
			<th>Genre</th>
			<th>Summary</th>
			<th>Rating</th>
			<th>Status</th>
			<th> </th>
		</tr>
		<tr th:each ="movie : ${movies}">
			<td th:text="${movie.year}"></td>
			<td th:text="${movie.title}"></td>
			<td th:text="${movie.genre.genreName}"></td>
			<td th:text="${movie.summary}"></td>
			<td sec:autorize="isAnonymous()" th:text="${movie.rating}"></td>
			<td sec:autorize="isAnonymous()" th:text="${movie.status}"></td>
			<td sec:authorize="hasRole('ADMIN')"><a class="btn btn-danger" th:href="@{/edit/{id}(id=${movie.id})}">Edit</a></td>
			<td sec:authorize="hasRole('ADMIN')"><a class="btn btn-danger" th:href="@{/delete/{id}(id=${movie.id})}">Delete</a></td>
		</tr>	
	</table>
	<a class="btn btn-success" href="/addMovie">Add Movie</a>
	</body>
</html>